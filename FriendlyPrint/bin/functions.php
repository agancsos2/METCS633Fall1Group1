<?php
	//
	// This file includes commonly used functions in the web portal.
	// All changes to this file must go through community approval.
	//

	//
	// This function is a one-way encryption used to hold password details in cookies.
	// Some encodings might have double character mappings, this is by design.
	//
	function hash_pass($str)
	{
		$final="";
		if(strlen($str)>7)
		{
			for($i=0;$i<strlen($str);$i++)
			{
				if($str[$i]==" ")
				{
					$final=$final."000000000";
				}
				if($str[$i]=="a")
				{
					$final=$final."000000001";
				}
				if($str[$i]=="b")
				{
					$final=$final."000000010";
				}
				if($str[$i]=="c")
				{
					$final=$final."000000011";
				}
				if($str[$i]=="d")
				{
					$final=$final."000000100";
				}
				if($str[$i]=="e")
				{
					$final=$final."000000101";
				}
				if($str[$i]=="f")
				{
					$final=$final."000000111";
				}
				if($str[$i]=="g")
				{
					$final=$final."000001000";
				}
				if($str[$i]=="h")
				{
					$final=$final."000001001";
				}
				if($str[$i]=="i")
				{
					$final=$final."000001010";
				}
				if($str[$i]=="j")
				{
					$final=$final."000001011";
				}
				if($str[$i]=="k")
				{
					$final=$final."000001100";
				}
				if($str[$i]=="l")
				{
					$final=$final."000001101";
				}
				if($str[$i]=="m")
				{
					$final=$final."000001111";
				}
				if($str[$i]=="n")
				{
					$final=$final."000010000";
				}
				if($str[$i]=="o")
				{
					$final=$final."000010001";
				}
				if($str[$i]=="p")
				{
					$final=$final."000010010";
				}
				if($str[$i]=="q")
				{
					$final=$final."000010011";
				}
				if($str[$i]=="r")
				{
					$final=$final."000010100";
				}
				if($str[$i]=="s")
				{
					$final=$final."000010101";
				}
				if($str[$i]=="t")
				{
					$final=$final."000010110";
				}
				if($str[$i]=="u")
				{
					$final=$final."000010111";
				}
				if($str[$i]=="v")
				{
					$final=$final."000011000";
				}
				if($str[$i]=="w")
				{
					$final=$final."000011001";
				}
				if($str[$i]=="x")
				{
					$final=$final."000011010";
				}
				if($str[$i]=="y")
				{
					$final=$final."000011011";
				}
				if($str[$i]=="z")
				{
					$final=$final."000011100";
				}
				if($str[$i]=="0")
				{
					$final=$final."000011101";
				}
				if($str[$i]=="1")
				{
					$final=$final."000011110";
				}
				if($str[$i]=="2")
				{
					$final=$final."000011111";
				}
				if($str[$i]=="3")
				{
					$final=$final."000100000";
				}
				if($str[$i]=="4")
				{
					$final=$final."000100001";
				}
				if($str[$i]=="5")
				{
					$final=$final."000100010";
				}
				if($str[$i]=="6")
				{
					$final=$final."000100011";
				}
				if($str[$i]=="7")
				{
					$final=$final."000100100";
				}
				if($str[$i]=="8")
				{
					$final=$final."000100101";
				}
				if($str[$i]=="9")
				{
					$final=$final."000100110";
				}
				if($str[$i]=="A")
				{
					$final=$final."100000001";
				}
				if($str[$i]=="B")
				{
					$final=$final."100000010";
				}
				if($str[$i]=="C")
				{
					$final=$final."100000011";
				}
				if($str[$i]=="D")
				{
					$final=$final."100000100";
				}
				if($str[$i]=="E")
				{
					$final=$final."100000101";
				}
				if($str[$i]=="F")
				{
					$final=$final."100000111";
				}
				if($str[$i]=="G")
				{
					$final=$final."100001000";
				}
				if($str[$i]=="H")
				{
					$final=$final."100001001";
				}
				if($str[$i]=="I")
				{
					$final=$final."100001010";
				}
				if($str[$i]=="J")
				{
					$final=$final."100001011";
				}
				if($str[$i]=="K")
				{
					$final=$final."100001100";
				}
				if($str[$i]=="L")
				{
					$final=$final."100001101";
				}
				if($str[$i]=="M")
				{
					$final=$final."100001111";
				}
				if($str[$i]=="N")
				{
					$final=$final."100010000";
				}
				if($str[$i]=="O")
				{
					$final=$final."100010001";
				}
				if($str[$i]=="P")
				{
					$final=$final."100010010";
				}
				if($str[$i]=="Q")
				{
					$final=$final."100010011";
				}
				if($str[$i]=="R")
				{
					$final=$final."100010100";
				}
				if($str[$i]=="S")
				{
					$final=$final."100010101";
				}
				if($str[$i]=="T")
				{
					$final=$final."100010110";
				}
				if($str[$i]=="U")
				{
					$final=$final."100010111";
				}
				if($str[$i]=="V")
				{
					$final=$final."100011000";
				}
				if($str[$i]=="W")
				{
					$final=$final."100011001";
				}
				if($str[$i]=="X")
				{
					$final=$final."100011010";
				}
				if($str[$i]=="Y")
				{
					$final=$final."100011011";
				}
				if($str[$i]=="Z")
				{
					$final=$final."100011100";
				}
				if($str[$i]=="`")
				{
					$final=$final."000100111";
				}
				if($str[$i]=="~")
				{
					$final=$final."000101000";
				}
				if($str[$i]=="!")
				{
					$final=$final."000101001";
				}
				if($str[$i]=="@")
				{
					$final=$final."000100010";
				}
				if($str[$i]=="#")
				{
					$final=$final."000100111";
				}
				if($str[$i]=="$")
				{
					$final=$final."000101000";
				}
				if($str[$i]=="%")
				{
					$final=$final."000101001";
				}
				if($str[$i]=="^")
				{
					$final=$final."000101010";
				}
				if($str[$i]=="&")
				{
					$final=$final."000101011";
				}
				if($str[$i]=="*")
				{
					$final=$final."000101100";
				}
				if($str[$i]=="(")
				{
					$final=$final."000101101";
				}
				if($str[$i]==")")
				{
					$final=$final."000101110";
				}
				if($str[$i]=="-")
				{
					$final=$final."000101111";
				}
				if($str[$i]=="_")
				{
					$final=$final."000110000";
				}
				if($str[$i]=="=")
				{
					$final=$final."000110001";
				}
				if($str[$i]=="+")
				{
					$final=$final."000110010";
				}
				if($str[$i]=="[")
				{
					$final=$final."000110011";
				}
				if($str[$i]=="{")
				{
					$final=$final."000110100";
				}
				if($str[$i]=="]")
				{
					$final=$final."000110101";
				}
				if($str[$i]=="}")
				{
					$final=$final."000110110";
				}
				if($str[$i]=="\\")
				{
					$final=$final."000110111";
				}
				if($str[$i]=="|")
				{
					$final=$final."000111000";
				}
				if($str[$i]==";")
				{
					$final=$final."000111001";
				}
				if($str[$i]==":")
				{
					$final=$final."000111010";
				}
				if($str[$i]=="\"")
				{
					$final=$final."000111011";
				}
				if($str[$i]==",")
				{
					$final=$final."000111100";
				}
				if($str[$i]=="<")
				{
					$final=$final."000111101";
				}
				if($str[$i]==".")
				{
					$final=$final."000111110";
				}
				if($str[$i]==">")
				{
					$final=$final."000111111";
				}
				if($str[$i]=="/")
				{
					$final=$final."001000000";
				}
				if($str[$i]=="?")
				{
					$final=$final."001000001";
				}
			}
		}
		return $final;
	}

	//
	// This function helps read the configuration file
	//
	function read_config($path,$key)
	{
        $key_pairs = explode("\n",file_get_contents($path));
		foreach($key_pairs as $key_value)
		{
			$pairs = explode("=",$key_value);
			if(sizeof($pairs) == 2)
			{
				if(trim($pairs[0]) == $key)
				{
					return trim($pairs[1]);
				}
			}
		}
		return "";
	}
?>
